var jsonData = {
    "teachers": [
        {
            "id": 1,
            "firstName": "Olsom",
            "lastName": "Clarke",
            "age": 42,
            "birthday": "1975-04-10",
            "cellPhone": "+005678901234",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 2,
            "firstName": "John",
            "lastName": "Smith",
            "age": 30,
            "birthday": "1987-10-23",
            "cellPhone": "+000123456789",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 3,
            "firstName": "Medie",
            "lastName": "Lorn",
            "age": 50,
            "birthday": "1967-07-03",
            "cellPhone": "+000987654321",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 4,
            "firstName": "Olsom",
            "lastName": "Clarke",
            "age": 42,
            "birthday": "1975-04-10",
            "cellPhone": "+005678901234",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 5,
            "firstName": "John",
            "lastName": "Smith",
            "age": 30,
            "birthday": "1987-10-23",
            "cellPhone": "+000123456789",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 6,
            "firstName": "Medie",
            "lastName": "Lorn",
            "age": 50,
            "birthday": "1967-07-03",
            "cellPhone": "+000987654321",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 7,
            "firstName": "Olsom",
            "lastName": "Clarke",
            "age": 42,
            "birthday": "1975-04-10",
            "cellPhone": "+005678901234",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        },
        {
            "id": 8,
            "firstName": "John",
            "lastName": "Smith",
            "age": 30,
            "birthday": "1987-10-23",
            "cellPhone": "+000123456789",
            "notes": "JavaScript (JS) is a lightweight interpreted or JIT-compiled programming language with first-class functions. While it is most well-known as the scripting language for Web pages, many non-browser environments also use it, such as node.js, Apache CouchDB and Adobe Acrobat. JavaScript is a prototype-based, multi-paradigm, dynamic language, supporting object-oriented, imperative, and declarative (e.g. functional programming) styles. Read more about JavaScript.",
            "terms": "Please read the terms of this entire document  (“Terms”) carefully because it explains your rights and responsibilities when you visit any of Mozilla’s websites (“Websites”), or related feeds, social media, newsletters, source code repositories, and emails (together with Websites, these are collectively referred to as “Communications”). By accessing or signing up to receive Communications, you agree to be bound by these Terms."
        }
    ]
};

function dataProviderFunction() {
    return jsonData;
}

function getFormData() {
    let row = {};

    $(".brisk-form").find("input, textarea").each(function () {
        let field = {};

        field[$(this).attr('id')] = $(this)[0].value;

        row = Object.assign(row, field)
    });

    return row;
}

function onButtonAdd() {
    let row = getFormData();

    jsonData['teachers'][jsonData['teachers'].length] = row;

    briskTableFunctions.refresh('1');

    $('#buttonAdd').remove();
    $('#buttonDelete').remove();
    $('#buttonUpdate').clone().appendTo("#form-container");
    $('#buttonDelete').clone().appendTo("#form-container");
    $('#buttonUpdate').hide();
    $('#buttonDelete').show();

    $.alert('Teacher added successfully!', {
        type: 'success',
        autoClose: true,
        closeTime: 2000,
        close: 'X',
        position: ['bottom-right'],
    });
}

function onButtonUpdate() {
    let row = getFormData();

    jsonData['teachers'].map(function (dataRow, i, data) {
        if(dataRow.id == Math.ceil(row.id)) {
            data[i] = row;
        }
    });

    briskTableFunctions.refresh('1');

    $('#buttonUpdate').hide();

    $.alert('Teacher data update successfully!', {
        type: 'success',
        autoClose: true,
        closeTime: 2000,
        close: 'X',
        position: ['bottom-right'],
    });
}

function addNewTeacher(){
    $("#form-container").html('');

    $( "#form-template" ).find(".form-row, #buttonAdd, #buttonDelete").each(function () {
        $(this).clone().appendTo("#form-container");
    });

    $(".brisk-form").find("input#id").val(Math.max.apply(Math, jsonData['teachers'].map(function(o){return o.id;})) + 1);

    $('#buttonAdd').hide();
    $('#buttonDelete').hide();
}

function onButtonDelete(){
    let deletedID = $(".brisk-form").find("input#id")[0].value;

    jsonData['teachers'].forEach(function (row, i, list) {
        if(row.id == deletedID) {
            list.splice(i, 1);
        }
    });

    $("#form-container").html('');

    briskTableFunctions.refresh('1');

    $('#buttonUpdate').hide();
    $('#buttonDelete').hide();

    $.alert('Teacher data removed successfully!', {
        type: 'success',
        autoClose: true,
        closeTime: 2000,
        close: 'X',
        position: ['bottom-right'],
    });
}


function hookFunction(rowData){
    $("#form-container").html('');

    $( "#form-template" ).find(".form-row, #buttonUpdate, #buttonDelete").each(function () {
        $(this).clone().appendTo("#form-container");
    });

    $('#buttonUpdate').hide();

    $( "#hash" ).val(rowData.hash);
    $( "#id" ).val(rowData.id);
    $( "#firstName" ).val(rowData.firstName);
    $( "#lastName" ).val(rowData.lastName);
    $( "#birthday" ).val(rowData.birthday);
    $( "#age" ).val(rowData.age);
    $( "#cellPhone" ).val(rowData.cellPhone);
    $( "#notes" ).val(rowData.notes);
    $( "#terms" ).val(rowData.terms);

    $('#buttonDelete').show();
}